# Хендлеры (контроллеры) 

Хендлеры отвечают за обработку запросов от клиента и взаимодействие с сервисами для получения необходимых данных. 

Они управляют потоком выполнения и возвращают ответы клиенту. Пример:

```ts
// handlers/userHandler.ts
fastify.get('/users/:id', async (request, reply) => {
  const userId = request.params.id
  const user = await userService.getUserById(userId)
  
  if (!user) {
    reply.code(404).send({ error: 'User not found' })
  }
  
  reply.send(user)
})
```

### Памятка

##### Что должно быть:

- Обработка HTTP-запросов и формирование HTTP-ответов: Контроллеры отвечают за обработку HTTP-запросов, извлечение необходимых данных, вызов соответствующих сервисов и формирование HTTP-ответов для клиента.

- Маршрутизация запросов: Контроллеры определяют, какие сервисы должны быть вызваны в ответ на различные HTTP-запросы. Они выполняют маршрутизацию запросов.

- Валидация входных данных: Контроллеры могут осуществлять валидацию входных данных, чтобы обеспечить корректное выполнение запросов и предотвратить ошибки.

##### Чего быть не должно:

- Бизнес-логика: Контроллеры не должны содержать сложную бизнес-логику.

- Прямое взаимодействие с базой данных: Контроллеры не должны напрямую взаимодействовать с базой данных.

- Смешивание ответственностей: Контроллеры не должны заниматься деталями представления или другими аспектами, не связанными с обработкой HTTP-запросов.
